<!DOCTYPE html>
<html lang="en">
  <!-- Head -->
  <head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    
    <!-- Metadata, OpenGraph and Schema.org -->




<!-- Standard metadata -->
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>
  
  
    
      ðŸ¤–ðŸ¦¾ Computer Vision System for Industrial Bin Picking Robot Arm | Sasika Amarasinghe
    
  
</title>
<meta name="author" content="Sasika Amarasinghe">
<meta name="description" content="Computer Vision System for Bin Picking Task using image Segmentation models such as SAM, DeepLab, Unet, Segnet and attempt to implement in an industrial robot arm">

  <meta name="keywords" content="jekyll, jekyll-theme, academic-website, portfolio-website">










<!-- Bootstrap & MDB -->
<link rel="stylesheet" href="/assets/css/bootstrap.min.css?a4b3f509e79c54a512b890d73235ef04">
<!-- <link rel="stylesheet" href="/assets/css/mdb.min.css?62a43d1430ddb46fc4886f9d0e3b49b8"> -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous">

<!-- Bootstrap Table -->


<!-- Fonts & Icons -->
<link defer rel="stylesheet" href="/assets/css/academicons.min.css?f0b7046b84e425c55f3463ac249818f5">
<link defer rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons&amp;display=swap">

<!-- Code Syntax Highlighting -->
<link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-github.css?591dab5a4e56573bf4ef7fd332894c99" media="" id="highlight_theme_light">



<!-- Styles -->

  <link rel="shortcut icon" href="data:image/svg+xml,&lt;svg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20100%20100%22&gt;&lt;text%20y=%22.9em%22%20font-size=%2290%22&gt;%E2%9C%A8&lt;/text&gt;&lt;/svg&gt;">

<link rel="stylesheet" href="/assets/css/main.css?d41d8cd98f00b204e9800998ecf8427e">
<link rel="canonical" href="https://sasikaa073.github.io/projects/3-bin_picking_vision_system/">

<!-- Dark Mode -->

  <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-native.css?5847e5ed4a4568527aa6cfab446049ca" media="none" id="highlight_theme_dark">
  <script src="/assets/js/theme.js?0afe9f0ae161375728f7bcc5eb5b4ab4"></script>


<!-- GeoJSON support via Leaflet -->


<!-- diff2html -->






<!-- Font Awesome -->
<script defer src="https://kit.fontawesome.com/6d2e407f2b.js" crossorigin="anonymous"></script>   
  </head>

  <!-- Body -->
  <body class="fixed-top-nav sticky-bottom-footer">
    <!-- Header -->
    <header style="background-color: #1d1d1f !important;">
  <!-- Nav Bar -->
  <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top" role="navigation">
    <div class="container">
      
        <a class="navbar-brand title font-weight-lighter" href="/">
          
            
              <span class="font-weight-bold">Sasika</span>
            
            
            Amarasinghe
          
        </a>
      
      <!-- Navbar Toggle -->
      <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar top-bar"></span>
        <span class="icon-bar middle-bar"></span>
        <span class="icon-bar bottom-bar"></span>
      </button>

      <div class="collapse navbar-collapse text-right" id="navbarNav">
        <ul class="navbar-nav ml-auto flex-nowrap">
          

          <!-- About -->
          <li class="nav-item ">
            <a class="nav-link" href="/">about
              
            </a>
          </li>

          <!-- Other pages -->
          
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
              
                <li class="nav-item ">
                  
                  <a class="nav-link" href="/blog/">blog
                    
                  </a>
                </li>
              
            
          
            
          
            
              
                <li class="nav-item active">
                  
                  <a class="nav-link" href="/projects/">projects
                    
                      <span class="sr-only">(current)</span>
                    
                  </a>
                </li>
              
            
          
            
          
            
          
            
          
          
      <!-- Twitter -->
        

      <!-- Medium -->
        

      <!-- Github -->
      <li class="nav-item ">
        <a class="nav-link" href="https://github.com/SasikaA073" target="_blank" rel="external nofollow noopener">
          <i class="fab fa-github"></i>
          
        </a>
      </li>


        <!-- dark mode toggle -->
        

<li class="toggle-container">
  <button id="light-toggle" title="Change theme">
    <i class="fa-solid fa-moon"></i>
    <i class="fa-solid fa-sun"></i>
    
  </button>
</li>
  

        </ul>
      </div>
    </div>
  </nav>
  
    <!-- Scrolling Progress Bar -->
    <progress id="progress" value="0">
      <div class="progress-container">
        <span class="progress-bar"></span>
      </div>
    </progress>
  
</header>


    <!-- Content -->
    <div class="container mt-5" role="main">
      
        <div class="post">
  <header class="post-header">
    <h1 class="post-title">ðŸ¤–ðŸ¦¾ Computer Vision System for Industrial Bin Picking Robot Arm</h1>
    <p class="post-description">Computer Vision System for Bin Picking Task using image Segmentation models such as SAM, DeepLab, Unet, Segnet and attempt to implement in an industrial robot arm</p>
  </header>

  <article>
    <p>In this project, our assigned task was to <code class="language-plaintext highlighter-rouge">build a computer vision system to get the coordinates of a single box given an image using a segmentation method</code>.</p>

<p>This task is a simplified version of <a href="https://en.wikipedia.org/wiki/Bin_picking" rel="external nofollow noopener" target="_blank">Bin Picking</a> which is a core problem in <code class="language-plaintext highlighter-rouge">computer vision</code> and <code class="language-plaintext highlighter-rouge">robotics</code>.</p>

<hr>

<h2 id="deeplab-model">DeepLab Model</h2>

<p><a href="https://github.com/mora-bprs/DeepLab" rel="external nofollow noopener" target="_blank">Github</a></p>

<p>In this first attempt, the team along with my group mate, Isiri Withanawasam was asked to refer to <code class="language-plaintext highlighter-rouge">Semantic Segmentation model : DeepLab</code> paper and implement the model for our application.</p>

<p>Since the DeepLab model is not trained on any segmentation dataset which contains box images, a dataset of about 100 annotated images is created.</p>

<div class="container">
  <div class="row">
    <div class="col-sm">
      <div class="row">

        <div class="col">
          

<figure>
  <picture>
    <!-- Auto scaling with imagemagick -->
    <!--
      See https://www.debugbear.com/blog/responsive-images#w-descriptors-and-the-sizes-attribute and
      https://developer.mozilla.org/en-US/docs/Learn/HTML/Multimedia_and_embedding/Responsive_images for info on defining 'sizes' for responsive images
    -->
    
      <source class="responsive-img-srcset" srcset="/assets/img/bin_picking/created_original_dataset-480.webp 480w,/assets/img/bin_picking/created_original_dataset-800.webp 800w,/assets/img/bin_picking/created_original_dataset-1400.webp 1400w," sizes="95vw" type="image/webp"></source>
    
    <img src="/assets/img/bin_picking/created_original_dataset.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="Created dataset  " loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();">
  </picture>

  
</figure>

          <div class="caption">Created box image dataset </div>
        </div>

        <div class="col">
          

<figure>
  <picture>
    <!-- Auto scaling with imagemagick -->
    <!--
      See https://www.debugbear.com/blog/responsive-images#w-descriptors-and-the-sizes-attribute and
      https://developer.mozilla.org/en-US/docs/Learn/HTML/Multimedia_and_embedding/Responsive_images for info on defining 'sizes' for responsive images
    -->
    
      <source class="responsive-img-srcset" srcset="/assets/img/bin_picking/created_annotated_dataset-480.webp 480w,/assets/img/bin_picking/created_annotated_dataset-800.webp 800w,/assets/img/bin_picking/created_annotated_dataset-1400.webp 1400w," sizes="95vw" type="image/webp"></source>
    
    <img src="/assets/img/bin_picking/created_annotated_dataset.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="Annotated dataset" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();">
  </picture>

  
</figure>

          <div class="caption">Annotated dataset</div>
        </div>

      </div>
    </div>
  </div>
</div>

<p>Then the DeepLabV3 model was trained on our custom dataset using transfer learning. This is the result we got after 25 epochs.</p>

<div class="container">
  <div class="row">
    <div class="col-sm">
      <div class="row">

        <div class="col">
          

<figure>
  <picture>
    <!-- Auto scaling with imagemagick -->
    <!--
      See https://www.debugbear.com/blog/responsive-images#w-descriptors-and-the-sizes-attribute and
      https://developer.mozilla.org/en-US/docs/Learn/HTML/Multimedia_and_embedding/Responsive_images for info on defining 'sizes' for responsive images
    -->
    
      <source class="responsive-img-srcset" srcset="/assets/img/bin_picking/sample_input_image-480.webp 480w,/assets/img/bin_picking/sample_input_image-800.webp 800w,/assets/img/bin_picking/sample_input_image-1400.webp 1400w," sizes="95vw" type="image/webp"></source>
    
    <img src="/assets/img/bin_picking/sample_input_image.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="sample_input_image " loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();">
  </picture>

  
</figure>

          <div class="caption">Sample input iamge</div>
        </div>

        <div class="col">
          

<figure>
  <picture>
    <!-- Auto scaling with imagemagick -->
    <!--
      See https://www.debugbear.com/blog/responsive-images#w-descriptors-and-the-sizes-attribute and
      https://developer.mozilla.org/en-US/docs/Learn/HTML/Multimedia_and_embedding/Responsive_images for info on defining 'sizes' for responsive images
    -->
    
      <source class="responsive-img-srcset" srcset="/assets/img/bin_picking/sample_output_image_transfer_learning-480.webp 480w,/assets/img/bin_picking/sample_output_image_transfer_learning-800.webp 800w,/assets/img/bin_picking/sample_output_image_transfer_learning-1400.webp 1400w," sizes="95vw" type="image/webp"></source>
    
    <img src="/assets/img/bin_picking/sample_output_image_transfer_learning.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="sample_output_image_transfer_learning.png:Zone" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();">
  </picture>

  
</figure>

          <div class="caption">Sample output image after finetuning DeepLabV3 model</div>
        </div>

      </div>
    </div>
  </div>
</div>

<p>Since we were not satisfied with the results, we found the paper SAM model and moved onto using it according to the advice by our supervisor.</p>

<hr>

<h2 id="sam-model">SAM Model</h2>

<p><a href="https://github.com/mora-bprs/SAM-model" rel="external nofollow noopener" target="_blank">Github</a></p>

<p>Using this model (Segment Anything by MetaAI), we could get the desired output we were looking for. The results were taken in Google Colab using a  NVIDIA Tesla T4 GPU.</p>

<!-- Add SAM model result here -->
<div class="container">
  <div class="row">
    <div class="col-sm">
      <div class="row">

        <div class="col">
          

<figure>
  <picture>
    <!-- Auto scaling with imagemagick -->
    <!--
      See https://www.debugbear.com/blog/responsive-images#w-descriptors-and-the-sizes-attribute and
      https://developer.mozilla.org/en-US/docs/Learn/HTML/Multimedia_and_embedding/Responsive_images for info on defining 'sizes' for responsive images
    -->
    
      <source class="responsive-img-srcset" srcset="/assets/img/bin_picking/sam_0-480.webp 480w,/assets/img/bin_picking/sam_0-800.webp 800w,/assets/img/bin_picking/sam_0-1400.webp 1400w," sizes="95vw" type="image/webp"></source>
    
    <img src="/assets/img/bin_picking/sam_0.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="sample_input_image " loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();">
  </picture>

  
</figure>

          <div class="caption">sample mask generated by SAM model</div>
        </div>

        <div class="col">
          

<figure>
  <picture>
    <!-- Auto scaling with imagemagick -->
    <!--
      See https://www.debugbear.com/blog/responsive-images#w-descriptors-and-the-sizes-attribute and
      https://developer.mozilla.org/en-US/docs/Learn/HTML/Multimedia_and_embedding/Responsive_images for info on defining 'sizes' for responsive images
    -->
    
      <source class="responsive-img-srcset" srcset="/assets/img/bin_picking/sam_box_1-480.webp 480w,/assets/img/bin_picking/sam_box_1-800.webp 800w,/assets/img/bin_picking/sam_box_1-1400.webp 1400w," sizes="95vw" type="image/webp"></source>
    
    <img src="/assets/img/bin_picking/sam_box_1.jpg" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="sample_output_image_transfer_learning.png:Zone" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();">
  </picture>

  
</figure>

          <div class="caption">Desired output from SAM model</div>
        </div>

      </div>
    </div>
  </div>
</div>

<hr>

<h2 id="fast-sam-model">Fast SAM Model</h2>

<p><a href="https://github.com/mora-bprs/SAM-model" rel="external nofollow noopener" target="_blank">Github</a></p>

<p>Since we want a real time inference of the model, and our computation to happen on an edge device. Therefore we wanted to use the model with <code class="language-plaintext highlighter-rouge">Fast SAM</code>. With this model we could get the result even in  edge with less time using CPU compared to the SAM model sacrifising some accuracy and gaining advantage of inference time.</p>

<!-- Add Fast SAM results here -->

<h3 id="on-local-machine">On Local Machine</h3>
<div class="row">
    <div class="">
        

<figure>
  <picture>
    <!-- Auto scaling with imagemagick -->
    <!--
      See https://www.debugbear.com/blog/responsive-images#w-descriptors-and-the-sizes-attribute and
      https://developer.mozilla.org/en-US/docs/Learn/HTML/Multimedia_and_embedding/Responsive_images for info on defining 'sizes' for responsive images
    -->
    
      <source class="responsive-img-srcset" srcset="/assets/img/bin_picking/fast_sam_on_local_pc-480.webp 480w,/assets/img/bin_picking/fast_sam_on_local_pc-800.webp 800w,/assets/img/bin_picking/fast_sam_on_local_pc-1400.webp 1400w," sizes="95vw" type="image/webp"></source>
    
    <img src="/assets/img/bin_picking/fast_sam_on_local_pc.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="local machine" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();">
  </picture>

  
</figure>

    </div>
</div>
<div class="caption">
    Fast SAM inference on Local Machine  (CPU - Intel i5 11 th Gen)
</div>

<h3 id="on-raspberry-pi-4b">On Raspberry PI 4B</h3>
<div class="row">
    <div class="">
        

<figure>
  <picture>
    <!-- Auto scaling with imagemagick -->
    <!--
      See https://www.debugbear.com/blog/responsive-images#w-descriptors-and-the-sizes-attribute and
      https://developer.mozilla.org/en-US/docs/Learn/HTML/Multimedia_and_embedding/Responsive_images for info on defining 'sizes' for responsive images
    -->
    
      <source class="responsive-img-srcset" srcset="/assets/img/bin_picking/fast_sam_on_r_pi-480.webp 480w,/assets/img/bin_picking/fast_sam_on_r_pi-800.webp 800w,/assets/img/bin_picking/fast_sam_on_r_pi-1400.webp 1400w," sizes="95vw" type="image/webp"></source>
    
    <img src="/assets/img/bin_picking/fast_sam_on_r_pi.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="local machine" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();">
  </picture>

  
</figure>

    </div>
</div>
<div class="caption">
    Fast SAM inference on Raspeberry PI 4B (CPU - Broadcom BCM2711, Quad core Cortex-A72 (ARM v8))
</div>

<p>Note : The image in Raspberry Pi is not shown because, Ubuntu Server was running in the Raspberry Pi 4B with no GUI. That is the reason for QT error.</p>

<h2 id="camera-integration--multithreading">Camera integration &amp; Multithreading</h2>

<p>To decrease the time for inference we use multithreading to get input imags from the camera in one thread and buffer them. And do the computation in another thread to get the output. See the <a href="https://github.com/mora-bprs/SAM-model/commit/b53a6f067fee8f3dfa333111b9a9469a39de5e3d" rel="external nofollow noopener" target="_blank">latest commit</a> in <code class="language-plaintext highlighter-rouge">old</code> branch in the github repository. (not yet merged to main branch)</p>

<hr>

<h2 id="future-improvements">Future Improvements</h2>

<p>By the time I am writing this, we have successfully completed the assigned task. As part of the hardware project we have created a custom gripper.</p>

<p>After the evaluation day, we hope to integrate this vision system and the custom gripper with an industrial robot arm using ROS2, going the extra mile.</p>

<p>We have already checked two robot arms available in our universityâ€™s Electrical Engineering Department. Here are those robot arms.</p>

<div class="container">
  <div class="row">
    <div class="col-sm">
      <div class="row">

        <div class="col">
          

<figure>
  <picture>
    <!-- Auto scaling with imagemagick -->
    <!--
      See https://www.debugbear.com/blog/responsive-images#w-descriptors-and-the-sizes-attribute and
      https://developer.mozilla.org/en-US/docs/Learn/HTML/Multimedia_and_embedding/Responsive_images for info on defining 'sizes' for responsive images
    -->
    
      <source class="responsive-img-srcset" srcset="/assets/img/bin_picking/kuka_arm-480.webp 480w,/assets/img/bin_picking/kuka_arm-800.webp 800w,/assets/img/bin_picking/kuka_arm-1400.webp 1400w," sizes="95vw" type="image/webp"></source>
    
    <img src="/assets/img/bin_picking/kuka_arm.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="sample_input_image " loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();">
  </picture>

  
</figure>

          <div class="caption">Kuka KR 6 R900 sixx industrial robot arm</div>
        </div>

        <div class="col">
          

<figure>
  <picture>
    <!-- Auto scaling with imagemagick -->
    <!--
      See https://www.debugbear.com/blog/responsive-images#w-descriptors-and-the-sizes-attribute and
      https://developer.mozilla.org/en-US/docs/Learn/HTML/Multimedia_and_embedding/Responsive_images for info on defining 'sizes' for responsive images
    -->
    
      <source class="responsive-img-srcset" srcset="/assets/img/bin_picking/kinova_arm-480.webp 480w,/assets/img/bin_picking/kinova_arm-800.webp 800w,/assets/img/bin_picking/kinova_arm-1400.webp 1400w," sizes="95vw" type="image/webp"></source>
    
    <img src="/assets/img/bin_picking/kinova_arm.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="sample_output_image_transfer_learning.png:Zone" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();">
  </picture>

  
</figure>

          <div class="caption">Kinova Gen 2 robot arm </div>
        </div>

      </div>
    </div>
  </div>
</div>

<p>Specifications of the above robot arms</p>

<ul>
  <li><a href="https://www.kuka.com/-/media/kuka-downloads/imported/8350ff3ca11642998dbdc81dcc2ed44c/0000205456_en.pdf" rel="external nofollow noopener" target="_blank">Kuka KR 6 R900 sixx industrial robot arm</a></li>
  <li><a href="https://www.kinovarobotics.com/product/gen2-robots" rel="external nofollow noopener" target="_blank">Kinova Gen 2 robot arm</a></li>
</ul>


  </article>

  

  
</div>

      
    </div>

    <!-- Footer -->
    
  <footer class="sticky-bottom mt-5" role="contentinfo">
    <div class="container">
      Â© Copyright 2024
      Sasika
      
      Amarasinghe. 
      
      
        <br>
        <!-- Added this line -->
        <small>
          <i>Last updated: July 18, 2024
          </i>
        </small>
      
    </div>
  </footer>


    <!-- JavaScripts -->
    <!-- jQuery -->
<script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>

    <!-- Bootsrap & MDB scripts -->
<script src="/assets/js/bootstrap.bundle.min.js"></script>
<!-- <script src="/assets/js/mdb.min.js"></script> -->
<script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script>

    
  <!-- Masonry & imagesLoaded -->
  <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script>
  <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@5.0.0/imagesloaded.pkgd.min.js" integrity="sha256-htrLFfZJ6v5udOG+3kNLINIKh2gvoKqwEhHYfTTMICc=" crossorigin="anonymous"></script>
  <script defer src="/assets/js/masonry.js" type="text/javascript"></script>


    

    

    

    

    

    

    

    

  <!-- Medium Zoom JS -->
  <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.1.0/dist/medium-zoom.min.js" integrity="sha256-ZgMyDAIYDYGxbcpJcfUnYwNevG/xi9OHKaR/8GK+jWc=" crossorigin="anonymous"></script>
  <script defer src="/assets/js/zoom.js?85ddb88934d28b74e78031fd54cf8308"></script>



<!-- Bootstrap Table -->


<!-- Load Common JS -->
<script src="/assets/js/no_defer.js?2930004b8d7fcd0a8e00fdcfc8fc9f24"></script>
<script defer src="/assets/js/common.js?da39b660470d1ba6e6b8bf5f37070b6e"></script>
<script defer src="/assets/js/copy_code.js?12775fdf7f95e901d7119054556e495f" type="text/javascript"></script>

<!-- Jupyter Open External Links New Tab -->
<script defer src="/assets/js/jupyter_new_tab.js?d9f17b6adc2311cbabd747f4538bb15f"></script>

    
  <script async src="https://d1bxh8uas1mnw7.cloudfront.net/assets/embed.js"></script>


  <script async src="https://badge.dimensions.ai/badge.js"></script>


    
  <!-- MathJax -->
  <script type="text/javascript">
    window.MathJax = {
      tex: {
        tags: 'ams',
      },
    };
  </script>
  <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-mml-chtml.js"></script>
  <script defer src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>


    
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id="></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() {
      window.dataLayer.push(arguments);
    }
    gtag('js', new Date());
    gtag('config', '');
  </script>



    
  <!-- Scrolling Progress Bar -->
  <script type="text/javascript">
    /*
     * This JavaScript code has been adapted from the article
     * https://css-tricks.com/reading-position-indicator/ authored by Pankaj Parashar,
     * published on the website https://css-tricks.com on the 7th of May, 2014.
     * Couple of changes were made to the original code to make it compatible
     * with the `al-foio` theme.
     */
    const progressBar = $('#progress');
    /*
     * We set up the bar after all elements are done loading.
     * In some cases, if the images in the page are larger than the intended
     * size they'll have on the page, they'll be resized via CSS to accomodate
     * the desired size. This mistake, however, breaks the computations as the
     * scroll size is computed as soon as the elements finish loading.
     * To account for this, a minimal delay was introduced before computing the
     * values.
     */
    window.onload = function () {
      setTimeout(progressBarSetup, 50);
    };
    /*
     * We set up the bar according to the browser.
     * If the browser supports the progress element we use that.
     * Otherwise, we resize the bar thru CSS styling
     */
    function progressBarSetup() {
      if ('max' in document.createElement('progress')) {
        initializeProgressElement();
        $(document).on('scroll', function () {
          progressBar.attr({ value: getCurrentScrollPosition() });
        });
        $(window).on('resize', initializeProgressElement);
      } else {
        resizeProgressBar();
        $(document).on('scroll', resizeProgressBar);
        $(window).on('resize', resizeProgressBar);
      }
    }
    /*
     * The vertical scroll position is the same as the number of pixels that
     * are hidden from view above the scrollable area. Thus, a value > 0 is
     * how much the user has scrolled from the top
     */
    function getCurrentScrollPosition() {
      return $(window).scrollTop();
    }

    function initializeProgressElement() {
      let navbarHeight = $('#navbar').outerHeight(true);
      $('body').css({ 'padding-top': navbarHeight });
      $('progress-container').css({ 'padding-top': navbarHeight });
      progressBar.css({ top: navbarHeight });
      progressBar.attr({
        max: getDistanceToScroll(),
        value: getCurrentScrollPosition(),
      });
    }
    /*
     * The offset between the html document height and the browser viewport
     * height will be greater than zero if vertical scroll is possible.
     * This is the distance the user can scroll
     */
    function getDistanceToScroll() {
      return $(document).height() - $(window).height();
    }

    function resizeProgressBar() {
      progressBar.css({ width: getWidthPercentage() + '%' });
    }
    // The scroll ratio equals the percentage to resize the bar
    function getWidthPercentage() {
      return (getCurrentScrollPosition() / getDistanceToScroll()) * 100;
    }
  </script>


    

    

  </body>
</html>
